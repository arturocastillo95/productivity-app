{"ast":null,"code":"import _slicedToArray from\"/Users/arturocastillo/developer/productivity-app/src/productivityreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{getCookie,createSampleTasks,taskUpdate,createTask}from'./utils';import{DurationSelector}from'./DurationSelector';export default function Form(_ref){var editValue=_ref.editValue,onTaskCreated=_ref.onTaskCreated,onCancelCreate=_ref.onCancelCreate,onUpdateTasks=_ref.onUpdateTasks;var _useState=useState(Object.keys(editValue).length===0?{'title':'','duration':1800,'remaining':1800}:editValue),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var handleCreate=function handleCreate(e){e.preventDefault();if(!value.title)return;var csrf_token=getCookie('csrftoken');if(!value.id){createTask(value,csrf_token);onTaskCreated(value);return;}taskUpdate(value,csrf_token);onUpdateTasks();};var handleCreateSamples=function handleCreateSamples(){createSampleTasks().then(function(e){return onUpdateTasks();});};function setTaskName(name){value.title=name;setValue(value);}function setTaskDuration(duration){switch(duration){default:value.duration=value.remaining=1800;setValue(value);break;case'Medium (1 hr)':value.duration=value.remaining=3600;setValue(value);break;case'Long (2 hrs)':value.duration=value.remaining=7200;setValue(value);break;}}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleCreate},/*#__PURE__*/React.createElement(\"h1\",{className:\"title is-3 has-text-centered\"},\"Create New Task\"),/*#__PURE__*/React.createElement(\"div\",{className:\"field\"},/*#__PURE__*/React.createElement(\"label\",{className:\"label\"},\"Task Name\"),/*#__PURE__*/React.createElement(\"div\",{className:\"control is-expanded\"},/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Get stuff done!\",type:\"text\",className:\"input\",onChange:function onChange(e){return setTaskName(e.target.value);},defaultValue:value.title,autoFocus:true}))),/*#__PURE__*/React.createElement(DurationSelector,{setTaskDuration:setTaskDuration}),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"button is-success is-fullwidth\"},/*#__PURE__*/React.createElement(\"span\",{className:\"icon\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-check\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"has-text-weight-bold\"},value.id!=null&&/*#__PURE__*/React.createElement(\"span\",null,\"Save changes\"),value.title===''&&/*#__PURE__*/React.createElement(\"span\",null,\"Create Task\")))),/*#__PURE__*/React.createElement(\"button\",{className:\"button is-danger is-fullwidth mt-3\",onClick:onCancelCreate},/*#__PURE__*/React.createElement(\"span\",{className:\"icon\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-times\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"has-text-weight-bold\"},\"Cancel\")),value.title===''&&/*#__PURE__*/React.createElement(\"button\",{className:\"button is-info is-fullwidth mt-3\",onClick:handleCreateSamples},/*#__PURE__*/React.createElement(\"span\",{className:\"icon\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-vial\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"has-text-weight-bold\"},\"Generate Sample Tasks\")));}","map":{"version":3,"sources":["/Users/arturocastillo/developer/productivity-app/src/productivityreact/src/components/Form.js"],"names":["React","useState","getCookie","createSampleTasks","taskUpdate","createTask","DurationSelector","Form","editValue","onTaskCreated","onCancelCreate","onUpdateTasks","Object","keys","length","value","setValue","handleCreate","e","preventDefault","title","csrf_token","id","handleCreateSamples","then","setTaskName","name","setTaskDuration","duration","remaining","target"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport {getCookie, createSampleTasks, taskUpdate, createTask} from './utils'\nimport {DurationSelector} from './DurationSelector'\n\nexport default function Form({ editValue, onTaskCreated, onCancelCreate, onUpdateTasks }) {\n    const [value, setValue] = useState((Object.keys(editValue).length === 0 ? {'title': '', 'duration': 1800, 'remaining': 1800} : editValue));\n\n    const handleCreate = e => {\n        e.preventDefault();\n        if (!value.title) return;\n        \n        var csrf_token = getCookie('csrftoken');\n\n        if (!value.id) {\n            createTask(value, csrf_token);\n            onTaskCreated(value);\n            return;\n        }\n\n        taskUpdate(value, csrf_token);\n        onUpdateTasks();\n    };\n\n    const handleCreateSamples = () => {\n        createSampleTasks().then(e => onUpdateTasks());\n    }\n\n    function setTaskName(name) {\n        value.title = name;\n        setValue(value);\n    }\n\n    function setTaskDuration(duration) {\n        switch(duration) {\n            default:\n                value.duration = value.remaining = 1800;\n                setValue(value);\n                break;\n            case 'Medium (1 hr)':\n                value.duration = value.remaining = 3600;\n                setValue(value);\n                break;\n            case 'Long (2 hrs)':\n                value.duration = value.remaining = 7200;\n                setValue(value);\n                break;\n        }\n    }\n\n    return (\n        <>\n        <form onSubmit={ handleCreate }>\n\n            <h1 className=\"title is-3 has-text-centered\">\n                Create New Task\n            </h1>\n\n            <div className=\"field\">\n                <label className='label'>Task Name</label>\n                <div className=\"control is-expanded\">\n                    <input\n                        placeholder='Get stuff done!'\n                        type=\"text\" \n                        className=\"input\" \n                        onChange={e => setTaskName(e.target.value)}\n                        defaultValue={value.title}\n                        autoFocus\n                    />\n                </div>\n            </div>\n\n            <DurationSelector setTaskDuration={setTaskDuration}/>\n\n            <button type='submit' className='button is-success is-fullwidth'>\n                <span className=\"icon\">\n                    <i className=\"fas fa-check\"></i>\n                </span>\n                <span className='has-text-weight-bold'>\n                    {value.id != null &&\n                    <span>Save changes</span>\n                    }\n                    {value.title === '' &&\n                    <span>Create Task</span>\n                    }\n                </span>\n            </button>\n\n        </form>\n\n            <button className='button is-danger is-fullwidth mt-3' onClick={onCancelCreate}>\n                <span className=\"icon\">\n                    <i className=\"fas fa-times\"></i>\n                </span>\n                <span className='has-text-weight-bold'>Cancel</span>\n            </button>\n\n            {value.title === '' &&             \n            <button className='button is-info is-fullwidth mt-3' onClick={handleCreateSamples}>\n                <span className=\"icon\">\n                    <i className=\"fas fa-vial\"></i>\n                </span>\n                <span className='has-text-weight-bold'>Generate Sample Tasks</span>\n            </button>\n            }\n\n        </>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}