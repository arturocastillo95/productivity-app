{"ast":null,"code":"import _slicedToArray from\"/Users/arturocastillo/developer/productivity-app/src/productivityreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';function getCookie(name){var cookieValue=null;if(document.cookie&&document.cookie!==''){var cookies=document.cookie.split(';');for(var i=0;i<cookies.length;i++){var cookie=cookies[i].trim();// Does this cookie string begin with the name we want?\nif(cookie.substring(0,name.length+1)===name+'='){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break;}}}return cookieValue;}export default function Form(_ref){var onTaskCreated=_ref.onTaskCreated,onCancelCreate=_ref.onCancelCreate;var _useState=useState({'title':'','duration':1800,'remaining':1800}),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var handleCreate=function handleCreate(e){e.preventDefault();if(!value.title)return;var csrf_token=getCookie('csrftoken');fetch('http://127.0.0.1:8000/api/task-create/',{'method':'POST','headers':{'Content-Type':'application/json','X-CSRFToken':csrf_token},'body':JSON.stringify(value)});onTaskCreated(value);};function setTaskName(name){value.title=name;setValue(value);}function setTaskDuration(duration){switch(duration){default:value.duration=value.remaining=1800;setValue(value);break;case'Medium (1 hr)':value.duration=value.remaining=3600;setValue(value);break;case'Long (2 hrs)':value.duration=value.remaining=7200;setValue(value);console.log(value);break;}}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleCreate},/*#__PURE__*/React.createElement(\"h1\",{className:\"title is-3 has-text-centered\"},\"Create New Task\"),/*#__PURE__*/React.createElement(\"div\",{className:\"field\"},/*#__PURE__*/React.createElement(\"label\",{className:\"label\"},\"Task Name\"),/*#__PURE__*/React.createElement(\"div\",{className:\"control is-expanded\"},/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Get stuff done!\",type:\"text\",className:\"input\"// value={value.name}\n,onChange:function onChange(e){return setTaskName(e.target.value);},autoFocus:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"field pb-3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"label\"},\"Task duration\"),/*#__PURE__*/React.createElement(\"div\",{className:\"control has-icons-left\"},/*#__PURE__*/React.createElement(\"div\",{className:\"select\"},/*#__PURE__*/React.createElement(\"select\",{onChange:function onChange(e){return setTaskDuration(e.target.value);},defaultValue:'Short (30 min)'},/*#__PURE__*/React.createElement(\"option\",null,\"Short (30 min)\"),/*#__PURE__*/React.createElement(\"option\",null,\"Medium (1 hr)\"),/*#__PURE__*/React.createElement(\"option\",null,\"Long (2 hrs)\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"icon is-small is-left\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-stopwatch\"})))),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"button is-success is-fullwidth\"},/*#__PURE__*/React.createElement(\"span\",{className:\"icon\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-check\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"has-text-weight-bold\"},\"Create Task\"))),/*#__PURE__*/React.createElement(\"button\",{className:\"button is-danger is-fullwidth mt-3\",onClick:onCancelCreate},/*#__PURE__*/React.createElement(\"span\",{className:\"icon\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-times\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"has-text-weight-bold\"},\"Cancel\")));}","map":{"version":3,"sources":["/Users/arturocastillo/developer/productivity-app/src/productivityreact/src/components/Form.js"],"names":["React","useState","getCookie","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","Form","onTaskCreated","onCancelCreate","value","setValue","handleCreate","e","preventDefault","title","csrf_token","fetch","JSON","stringify","setTaskName","setTaskDuration","duration","remaining","console","log","target"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\n\nfunction getCookie(name) {\n    let cookieValue = null;\n    if (document.cookie && document.cookie !== '') {\n        const cookies = document.cookie.split(';');\n        for (let i = 0; i < cookies.length; i++) {\n            const cookie = cookies[i].trim();\n            // Does this cookie string begin with the name we want?\n            if (cookie.substring(0, name.length + 1) === (name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n    }\n    return cookieValue;\n}\n\n\nexport default function Form({ onTaskCreated, onCancelCreate }) {\n    const [value, setValue] = useState({'title': '', 'duration': 1800, 'remaining': 1800})\n\n    const handleCreate = e => {\n        e.preventDefault();\n        if (!value.title) return;\n        \n        var csrf_token = getCookie('csrftoken');\n\n        fetch('http://127.0.0.1:8000/api/task-create/', {\n            'method': 'POST',\n            'headers': {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': csrf_token,\n            },\n            'body': JSON.stringify(value)\n        });\n        onTaskCreated(value);\n    }\n\n    function setTaskName(name) {\n        value.title = name;\n        setValue(value);\n    }\n\n    function setTaskDuration(duration) {\n        switch(duration) {\n            default:\n                value.duration = value.remaining = 1800;\n                setValue(value);\n                break;\n            case 'Medium (1 hr)':\n                value.duration = value.remaining = 3600;\n                setValue(value);\n                break;\n            case 'Long (2 hrs)':\n                value.duration = value.remaining = 7200;\n                setValue(value);\n                console.log(value)\n                break;\n        }\n    }\n\n    return (\n        <>\n        <form onSubmit={ handleCreate }>\n\n            <h1 className=\"title is-3 has-text-centered\">\n                Create New Task\n            </h1>\n\n            <div className=\"field\">\n                <label className='label'>Task Name</label>\n                <div className=\"control is-expanded\">\n                    <input\n                        placeholder='Get stuff done!'\n                        type=\"text\" \n                        className=\"input\" \n                        // value={value.name}\n                        onChange={e => setTaskName(e.target.value)}\n                        autoFocus\n                    />\n                </div>\n            </div>\n\n            <div className=\"field pb-3\">\n                <label className=\"label\">Task duration</label>\n                <div className=\"control has-icons-left\">\n                    <div className=\"select\">\n                        <select onChange={e => setTaskDuration(e.target.value)} defaultValue={'Short (30 min)'}> \n        \n                        <option>\n                            Short (30 min)\n                        </option>\n                        <option>\n                            Medium (1 hr)\n                        </option>\n                        <option>\n                            Long (2 hrs)\n                        </option>\n                        {/* <option>\n                            Custom (Max. 2hrs)\n                        </option> */}\n        \n                        </select>\n                    </div>\n                    <div className=\"icon is-small is-left\">\n                        <i className=\"fas fa-stopwatch\"></i>\n                    </div>\n                </div>\n            </div>\n\n            <button type='submit' className='button is-success is-fullwidth'>\n                <span className=\"icon\">\n                    <i className=\"fas fa-check\"></i>\n                </span>\n                <span className='has-text-weight-bold'>Create Task</span>\n            </button>\n\n        </form>\n\n            <button className='button is-danger is-fullwidth mt-3' onClick={onCancelCreate}>\n                <span className=\"icon\">\n                    <i className=\"fas fa-times\"></i>\n                </span>\n                <span className='has-text-weight-bold'>Cancel</span>\n            </button>\n        </>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}