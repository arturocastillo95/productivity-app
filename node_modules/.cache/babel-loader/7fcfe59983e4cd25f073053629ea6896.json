{"ast":null,"code":"import _regeneratorRuntime from\"/Users/arturocastillo/developer/productivity-app/src/productivityreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/arturocastillo/developer/productivity-app/src/productivityreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{BASE_URL}from'./../App';Date.prototype.addDays=function(days){var date=new Date(this.valueOf());date.setDate(date.getDate()+days);return date;};export function getCookie(name){var cookieValue=null;if(document.cookie&&document.cookie!==''){var cookies=document.cookie.split(';');for(var i=0;i<cookies.length;i++){var cookie=cookies[i].trim();// Does this cookie string begin with the name we want?\nif(cookie.substring(0,name.length+1)===name+'='){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break;}}}return cookieValue;}export function fancyTimeFormat(duration){// Hours, minutes and seconds\nvar hrs=~~(duration/3600);var mins=~~(duration%3600/60);var secs=~~duration%60;// Output like \"1:01\" or \"4:03:59\" or \"123:03:59\"\nvar ret=\"\";if(hrs>0){ret+=\"\"+hrs+\":\"+(mins<10?\"0\":\"\");}ret+=\"\"+mins+\":\"+(secs<10?\"0\":\"\");ret+=\"\"+secs;return ret;}export function dateToStr(date){var dd=String(date.getDate()).padStart(2,'0');var mm=String(date.getMonth()+1).padStart(2,'0');var year=date.getFullYear();var today=year+'-'+mm+'-'+dd;return today;}export function dataHeaders(){var today=new Date();var arr=[today];var i;for(i=-1;i>-8;i--){var current=today;arr.unshift(current.addDays(i));};var headers=arr.map(function(d){return dateToStr(d);});return headers;}export var taskUpdate=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(obj,csrf_token){var url,update;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=BASE_URL+'api/task-update/'+obj.id+'/';_context.prev=1;_context.next=4;return fetch(url,{'method':'POST','headers':{'Content-Type':'application/json','X-CSRFToken':csrf_token},'body':JSON.stringify(obj)});case 4:update=_context.sent;_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return function taskUpdate(_x,_x2){return _ref.apply(this,arguments);};}();export var createTask=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(obj,csrf_token){var url,create;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:url=BASE_URL+'api/task-create/';_context2.prev=1;_context2.next=4;return fetch(url,{'method':'POST','headers':{'Content-Type':'application/json','X-CSRFToken':csrf_token},'body':JSON.stringify(obj)});case 4:create=_context2.sent;_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[1,7]]);}));return function createTask(_x3,_x4){return _ref2.apply(this,arguments);};}();// Sample task function\nexport function createSampleTasks(){return _createSampleTasks.apply(this,arguments);}function _createSampleTasks(){_createSampleTasks=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var dates,dLen,tasks,csrf_token,i,duration,elapsed,random_boolean,obj,rnd,create_tasks;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dates=dataHeaders();dLen=dates.length;tasks=[];csrf_token=getCookie('csrftoken');for(i=0;i<50;i++){//Random date in the last week\nduration=Math.floor(Math.random()*(7200-1800+1))+1800;elapsed=Math.floor(Math.random()*duration);random_boolean=Math.random()>=0.5;obj={'title':'Sample Task '+i,'duration':duration,'remaining':elapsed};if(random_boolean){rnd=Math.floor(Math.random()*dLen);obj['completed']=true;obj['finish_date']=dates[rnd];};tasks.push(obj);}_context3.next=7;return tasks.forEach(function(t){createTask(t,csrf_token);});case 7:create_tasks=_context3.sent;return _context3.abrupt(\"return\",create_tasks);case 9:case\"end\":return _context3.stop();}}},_callee3);}));return _createSampleTasks.apply(this,arguments);}","map":{"version":3,"sources":["/Users/arturocastillo/developer/productivity-app/src/productivityreact/src/components/utils.js"],"names":["BASE_URL","Date","prototype","addDays","days","date","valueOf","setDate","getDate","getCookie","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","fancyTimeFormat","duration","hrs","mins","secs","ret","dateToStr","dd","String","padStart","mm","getMonth","year","getFullYear","today","dataHeaders","arr","current","unshift","headers","map","d","taskUpdate","obj","csrf_token","url","id","fetch","JSON","stringify","update","console","log","createTask","create","createSampleTasks","dates","dLen","tasks","Math","floor","random","elapsed","random_boolean","rnd","push","forEach","t","create_tasks"],"mappings":"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","sourcesContent":["import {BASE_URL} from './../App'\n\n\nDate.prototype.addDays = function(days) {\n    var date = new Date(this.valueOf());\n    date.setDate(date.getDate() + days);\n    return date;\n}\n\nexport function getCookie(name) {\n    let cookieValue = null;\n    if (document.cookie && document.cookie !== '') {\n        const cookies = document.cookie.split(';');\n        for (let i = 0; i < cookies.length; i++) {\n            const cookie = cookies[i].trim();\n            // Does this cookie string begin with the name we want?\n            if (cookie.substring(0, name.length + 1) === (name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n    }\n    return cookieValue;\n}\n\nexport function fancyTimeFormat(duration)\n{   \n    // Hours, minutes and seconds\n    var hrs = ~~(duration / 3600);\n    var mins = ~~((duration % 3600) / 60);\n    var secs = ~~duration % 60;\n\n    // Output like \"1:01\" or \"4:03:59\" or \"123:03:59\"\n    var ret = \"\";\n\n    if (hrs > 0) {\n        ret += \"\" + hrs + \":\" + (mins < 10 ? \"0\" : \"\");\n    }\n\n    ret += \"\" + mins + \":\" + (secs < 10 ? \"0\" : \"\");\n    ret += \"\" + secs;\n    return ret;\n}\n\n\n\nexport function dateToStr(date) {\n    var dd = String(date.getDate()).padStart(2,'0');\n    var mm = String(date.getMonth() + 1).padStart(2,'0');\n    var year = date.getFullYear();\n\n    var today = year + '-' + mm + '-' + dd;\n    return today;\n}\n\nexport function dataHeaders() {\n    var today = new Date();\n    var arr = [today];\n    var i;\n    for (i = -1; i > -8; i--) {\n        var current = today;\n        arr.unshift(current.addDays(i));\n    };\n    var headers = arr.map(d => dateToStr(d))\n    return headers;\n}\n\nexport const taskUpdate = async (obj, csrf_token) => {\n    const url = BASE_URL + 'api/task-update/' + obj.id + '/'\n\n    try {\n        const update = await fetch(url, {\n            'method': 'POST',\n            'headers': {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': csrf_token,\n            },\n            'body': JSON.stringify(obj)\n        })\n    } catch (error) {\n        console.log(error)\n    }\n}\n\nexport const createTask = async (obj, csrf_token) => {\n    const url = BASE_URL + 'api/task-create/';\n\n    try {\n        const create = await fetch(url, {\n            'method': 'POST',\n            'headers' : {\n                'Content-Type': 'application/json',\n                'X-CSRFToken': csrf_token,\n            },\n            'body': JSON.stringify(obj)\n        });\n    } catch (error) {\n        console.log(error)\n    }\n};\n\n// Sample task function\nexport async function createSampleTasks() {\n    var dates = dataHeaders();\n    var dLen = dates.length;\n    var tasks = [];\n    var csrf_token = getCookie('csrftoken');\n    var i;\n\n    for (i = 0; i < 50; i++) {\n        //Random date in the last week\n        var duration = Math.floor(Math.random() * (7200 - 1800 + 1)) + 1800;\n        var elapsed = Math.floor(Math.random() * duration);\n        var random_boolean = Math.random() >= 0.5;\n\n        var obj = {'title': 'Sample Task ' + i, 'duration': duration, 'remaining': elapsed};\n\n        if (random_boolean) {\n            var rnd = Math.floor(Math.random() * dLen);\n            obj['completed'] = true;\n            obj['finish_date'] = dates[rnd]\n        };\n\n        tasks.push(obj);\n    }\n    \n    const create_tasks = await tasks.forEach(t => {\n        createTask(t, csrf_token);\n    });\n\n    return create_tasks;\n\n}"]},"metadata":{},"sourceType":"module"}